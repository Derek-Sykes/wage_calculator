<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Time to Bag</title>
</head>
<body>
    <header>
        <h1>Time to Bag</h1>
        <% if (userId) { %>
            <a href="/home" id="home">Home</a>
        <% } else { %>
            <a href="/" id="home">Home</a>
        <% } %>
    </header>
    <main>
        <form action="/bag" method="post" id="bagf">
            <label id="suml" for="sum">How much money do you want?: </label>
            <input type="text" name="sum" id="sum" required><br>
            <label id="tax" for="tax">what rate do you expect to get taxed at?: </label>
            <input type="text" name="tax" id="tax" required><br>
            <label for="payRate">What is your advertised pay?: </label>
            <input type="text" name="payRate" id="payRate" required><br>
            <label for="isHourly">Are you paid Hourly or salery?: </label>
            <select id="isHourly" name="isHourly" required>
                <option value="salery">Salary</option>
                <option value="hourly">Hourly</option>
            </select><br>
            <label id="hoursl" for="hours" hidden>How many hours do you work a week?: </label>
            <input type="text" name="hours" id="hours" hidden><br>
            <label id="daysl" for="days" hidden>How many days do you work a week?: </label>
            <input type="text" name="days" id="days" hidden><br>
            <input type="submit" id="submit">
        </form>
        <div id="results">
            <% if (answer) { %>
                <p id="a">You need to work <%= answer.time %> hours to recieve $<%= answer.sum %>
            <% } %>
        </div>
        <form action="/bag-time" method="post" id="bagTimef" hidden>
            <label for="timePeriod">what time frame would you like to convert the hours to?: </label>
            <select id="timePeriod" name="timePeriod" required>
                <option value="days">Days</option>
                <option value="weeks">Weeks</option>
                <option value="months">Months</option>
                <option value="years">Years</option>
            </select><br>
            <label id="monthl" for="month" hidden>Whats the year and month that you want to calculate for?: </label>
            <input type="month" name="month" id="month" hidden><br>
            <input type="submit" id="submitT">
        </form>

        <% if (answer1) { %>
            <p id="a1">You need to work <%= answer1.time %> <%= answer1.timePeriod %> to recieve $<%= answer1.sum %></p> <br>
            <a href="/bag">Enter new calculation</a>
        <% } %>
        <footer>
            <form method="post" action="/logout">
                <button>Logout</button>
            </form>
        </footer>
       
        <script>
            let isHourlyEl = document.getElementById("isHourly")
            let hoursEl = document.getElementById("hours")
            let hourslEl = document.getElementById("hoursl")
            let daysEl = document.getElementById("days")
            let dayslEl = document.getElementById("daysl")
            let timePeriodEl = document.getElementById("timePeriod")
            let timePeriodlEl=document.getElementById("timePeriodl")
            let monthEl = document.getElementById("month")
            let monthlEl=document.getElementById("monthl")
            let bagTimefEl=document.getElementById("bagTimef")
            let bagfEl=document.getElementById("bagf")
            let submitEl=document.getElementById("submit")
            let submitTEl=document.getElementById("submitT")

            isHourlyEl.onchange = function() {
                if(isHourlyEl.value == "hourly") {
                    hoursEl.hidden = false;
                    hourslEl.hidden = false;
                    daysEl.hidden = false;
                    dayslEl.hidden = false;
                }else{
                    hoursEl.hidden = true;
                    hourslEl.hidden = true;
                    daysEl.hidden = true;
                    dayslEl.hidden = true;
                }

            }

            timePeriodEl.onchange = function(){
                if(timePeriodEl.value === 'months'){
                    monthlEl.hidden = false
                    monthEl.hidden = false
                }else{
                    monthlEl.hidden = true
                    monthEl.hidden = true
                }
            } 
            window.onload = function(){
                bagfEl.hidden = !!parseInt('<%= hide1 %>')
                bagTimefEl.hidden = !!parseInt('<%= hide2 %>')
                console.log('value: ','<%= hide1 %>')
                console.log('value: ', bagfEl.hidden)
            }
            
            

        </script>
    </main>
</body>
</html>
<!-- if(isHourlyEl.value == "hourly") {
    hoursEl.hidden = false;
    hourslEl.hidden = false;
    if(frequencyEl.value == "monthly"){
        timePeriodlEl.hidden = false
        timePeriodEl.hidden = false
    }else if(frequencyEl.value == "daily"){
        daysEl.hidden = false;
        dayslEl.hidden = false;
        timePeriodlEl.hidden = true
        timePeriodEl.hidden = true
    }else{
        timePeriodlEl.hidden = true
        timePeriodEl.hidden = true
    }
}else{
    hoursEl.hidden = true;
    hourslEl.hidden = true;
    timePeriodlEl.hidden = true
    timePeriodEl.hidden = true
    daysEl.hidden = true;
    dayslEl.hidden = true;
}
}

frequencyEl.onchange = function() {
if(frequencyEl.value == "monthly"){
    if(isHourlyEl.value == "hourly") {
        timePeriodlEl.hidden = false
        timePeriodEl.hidden = false
    }else{
        timePeriodlEl.hidden = true
        timePeriodEl.hidden = true
    }
}else if(frequencyEl.value == "daily" && isHourlyEl.value == "hourly"){
    daysEl.hidden = false;
    dayslEl.hidden = false;
    timePeriodlEl.hidden = true
    timePeriodEl.hidden = true
}else{
    timePeriodlEl.hidden = true
    timePeriodEl.hidden = true
    daysEl.hidden = true;
    dayslEl.hidden = true;
}
} -->